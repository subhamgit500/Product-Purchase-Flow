Quick Notes of Selenium Python 

 

Ways to Use Half / Partial Attribute Value in XPath 

contains() 

When the attribute contains the text anywhere. 

//input[contains(@id, 'username')] 

âœ… Matches: 

starts-with() 

When the attribute starts with given text. 

//button[starts-with(@name, 'submit')] 

âœ… Matches: 

Passing variables into locators is very common in Selenium when your element changes dynamically (like username, product name, row number, etc.). 

Using f-strings (Recommended, Python 3.6+) username = "John" element = driver.find_element(By.XPATH, f"//input[@value='{username}']") 

ğŸ‘‰ Here {username} gets replaced dynamically. 

ğŸ”¹ 2. Using format() username = "John" element = driver.find_element(By.XPATH, "//input[@value='{}']".format(username)) 

ğŸ”¹ 3. Using concatenation (not clean, but works) username = "John" xpath = "//input[@value='" + username + "']" element = driver.find_element(By.XPATH, xpath) 

ğŸ”¹ Example in Selenium Test from selenium import webdriver from selenium.webdriver.common.by import By 

driver = webdriver.Chrome() 

driver.get("https://example.com") 

product_name = "Laptop" element = driver.find_element(By.XPATH, f"//div[text()='{product_name}']") element.click() 

âš¡ Best Practice for Selenium + Python: â¡ Always use f-strings â€” they are clean, readable, and avoid errors. 

Scrolling is very important in Selenium because sometimes the element is not visible in the viewport, and Selenium cannot click/type until itâ€™s visible. 

Here are the common ways to scroll to a specific element: 

ğŸ”¹ 1. Using element.location_once_scrolled_into_view 

This scrolls automatically to bring the element into view. 

element = driver.find_element(By.XPATH, "//h2[contains(text(),'Best Sellers')]") element.location_once_scrolled_into_view 

âœ… Pros: Simple âŒ Cons: Sometimes jerky or doesnâ€™t work smoothly in all browsers. 

ğŸ”¹ 2. Using JavaScript scrollIntoView() 

This is the most reliable way. 

element = driver.find_element(By.XPATH, "//h2[contains(text(),'Best Sellers')]") driver.execute_script("arguments[0].scrollIntoView(true);", element) 

true â†’ Aligns the element at the top of the page. 

false â†’ Aligns at the bottom of the page. 

ğŸ”¹ 3. Using JavaScript by coordinates 

Scroll by elementâ€™s Y position. 

element = driver.find_element(By.XPATH, "//h2[contains(text(),'Best Sellers')]") driver.execute_script("window.scrollTo(0, arguments[0].location['y']);", element) 

ğŸ”¹ 4. Using ActionChains (less common) from selenium.webdriver.common.action_chains import ActionChains 

element = driver.find_element(By.XPATH, "//h2[contains(text(),'Best Sellers')]") ActionChains(driver).move_to_element(element).perform() 

âœ… Works for hover as well. âŒ Sometimes doesnâ€™t fully scroll if sticky headers overlap. 

âš¡ Best Practice: Use scrollIntoView() â†’ most stable, especially when element is dynamic. 

Great question ğŸ‘ â€” this is one of the most important XPath tricks in Selenium. 

Letâ€™s break it step by step. 

ğŸ”¹ Scenario 

Suppose you have this HTML: 

First Child Second Child  

Now, imagine you already located child1, and from there you want to go to child2. 

ğŸ”¹ XPath Axis: parent:: and .. 

.. â†’ Go one level up (parent node). 

parent::tagName â†’ Go to parent explicitly. 

From parent, you can go down again to another child. 

âœ… Example 1: Using .. (short form) //span[@class='child1']/../span[@class='child2'] 

ğŸ‘‰ Steps: 

//span[@class='child1'] â†’ Locate first child. 

/.. â†’ Move to parent  

. 

/span[@class='child2'] â†’ From parent, move to second child. 

âœ… Example 2: Using parent:: //span[@class='child1']/parent::div/span[@class='child2'] 

ğŸ‘‰ Same as above, but more explicit. 

âœ… Example 3: Going multiple levels up 

If structure is deeper: 

First Second  

XPath: 

//span[@class='child1']/../../span[@class='child2'] 

ğŸ‘‰ /../.. moves two levels up. 

âš¡ Selenium Example 

child1 = driver.find_element(By.XPATH, "//span[@class='child1']") child2 = driver.find_element(By.XPATH, "//span[@class='child1']/../span[@class='child2']") print(child2.text) # Second Child 

âœ¨ Tip: .. is faster to write, but parent:: is clearer if multiple parent levels exist. 

 

 

 

<a href="/category_products/1" xpath="1">Dress </a> here I want to use text in xpath 

ChatGPT said: 

Perfect example ğŸš€ â€” letâ€™s solve this. 

You have: 

<a href="/category_products/1" xpath="1">Dress </a> 
 

 

âœ… 1. Using exact text match 

//a[text()='Dress '] 
 

ğŸ‘‰ Matches anchor tag with exact text (note the extra space in "Dress "). 

 

âœ… 2. Using normalize-space() (ignores extra spaces) 

//a[normalize-space(text())='Dress'] 
 

ğŸ‘‰ More reliable, because it trims spaces before comparison. 

 

âœ… 3. Using contains() (when you only know part of text) 

//a[contains(text(), 'Dress')] 
 

ğŸ‘‰ Matches <a>Dress </a>, <a>Evening Dress</a>, etc. 

 

âœ… 4. Case-insensitive (trick with translate()) 

//a[contains(translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz'), 'dress')] 
 

ğŸ‘‰ Works even if the text is DRESS, dress, or Dress. 

 

âš¡ Selenium Example 

element = driver.find_element(By.XPATH, "//a[normalize-space(text())='Dress']") 
print(element.get_attribute("href"))   # /category_products/1 
 

 

ğŸ‘‰ Best practice: 

Use normalize-space(text()) when text is fixed but spacing may vary. 

Use contains(text(), '...') when text is partial or dynamic. 

 

 

 

 

 

Suggested Improvements 
1. Naming convention (PEP8) 
 
Class names: âœ… already follow PascalCase (ProductPage, loginPage â€” though this one should be LoginPage). 
 
Method names: should be snake_case, not CamelCase. 
 
So: 
 
product_page.SearchAndViewProduct(...)  âŒ 
product_page.search_and_view_product(...)  âœ… 
 
 
And class: 
 
class loginPage:  âŒ 
class LoginPage: âœ… 
 
2. Responsibility of validateLogin() 
 
Currently: 
 
product_page = login_logout.validateLogin() 
 
 
If validateLogin() both validates and returns a ProductPage object, thatâ€™s mixing 2 responsibilities. 
ğŸ‘‰ Suggestion: 
 
Keep validate_login() only for validation. 
 
Add a separate go_to_product_page() that explicitly returns ProductPage. 
 
Example: 
 
# login_logout.py 
def validate_login(self): 
    # assert username is displayed 
    assert "Logged in as" in self.driver.page_source 
 
def go_to_product_page(self): 
    return ProductPage(self.driver) 
 
 
Then your test becomes: 
 
login_logout.validate_login() 
product_page = login_logout.go_to_product_page() 
 
 
Much clearer & SRP-compliant. 
 
3. Test Readability / Step Logging 
 
Instead of print, better use pytest's built-in logging (caplog) or Pythonâ€™s logging library. 
Example: 
 
import logging 
logger = logging.getLogger(__name__) 
 
logger.info("Step 1: Verify Homepage") 
 
 
This way, logs are collected in pytest reports. 
 
4. Parametrize improvement 
 
Currently: 
 
@pytest.mark.parametrize("test_data_item", test_list) 
 
 
âœ… Works fine, but when test fails, itâ€™s hard to see which dataset failed. 
ğŸ‘‰ Improvement: use ids in parametrize. 
 
Example: 
 
@pytest.mark.parametrize("test_data_item", test_list, ids=[f"User:{item['username']}" for item in test_list]) 
 
 
This way test report will show: 
 
test_purchaseFlow[User:john_doe] 
test_purchaseFlow[User:jane_smith] 

 

 

 

 

 

 

 

 

That logging.basicConfig(...) is the configuration that tells Python how your logs should appear and at what level (INFO, DEBUG, etc.). 

There are 2 common ways to use it in your test framework: 

 

âœ… Option 1 â€“ Put in conftest.py (Best Practice) 

Since conftest.py is automatically picked up by pytest for the whole test suite, this ensures logging works across all tests without repeating config. 

Example conftest.py: 

import pytest 
import logging 
 
# Configure logging once for the whole test session 
logging.basicConfig( 
    level=logging.INFO, 
    format="%(asctime)s [%(levelname)s] %(message)s", 
    datefmt="%Y-%m-%d %H:%M:%S" 
) 
 
@pytest.fixture 
def browserInstance(): 
    # your webdriver setup here 
    pass 
 

Now, anywhere you use: 

logger = logging.getLogger(__name__) 
logger.info("Step 1: Verify Homepage") 
 

youâ€™ll see logs like: 

2025-08-18 12:35:21 [INFO] Step 1: Verify Homepage 
 

 

âœ… Option 2 â€“ Put in Your Test File (Only for That File) 

If you donâ€™t want it global, just put logging.basicConfig(...) at the top of your test file, before creating the logger: 

import logging 
 
logging.basicConfig( 
    level=logging.INFO, 
    format="%(asctime)s [%(levelname)s] %(message)s", 
    datefmt="%Y-%m-%d %H:%M:%S" 
) 
 
logger = logging.getLogger(__name__) 
 

 

âš¡ Pro Tip 

Use level=logging.DEBUG during debugging to get detailed logs. 

In production, keep it INFO to avoid too much noise. 

 

 

 

ok if I this in conftest py file then how I can use it everywhere, again and again I have to pass the fixture as pytest_configure or what ? 

ChatGPT said: 

Great question ğŸ‘Œ 
 No, you donâ€™t need to pass pytest_configure as a fixture everywhere. 

Hereâ€™s how it works: 

 

ğŸ”¹ Step 1: Put logging config in conftest.py 

# conftest.py 
import logging 
 
def pytest_configure(config): 
    logging.basicConfig( 
        level=logging.INFO, 
        format="%(asctime)s [%(levelname)s] %(message)s", 
        datefmt="%Y-%m-%d %H:%M:%S", 
    ) 
 

This runs once automatically before any tests are collected. 
 So logging is globally configured for your whole test suite. 

 

ğŸ”¹ Step 2: Use logger in any test file or page object 

Anywhere in your framework, just do: 

import logging 
logger = logging.getLogger(__name__) 
 
logger.info("Step 1: Verify Homepage") 
logger.error("Something failed!") 
 

You donâ€™t need to call or import anything from conftest.py. 
 The basicConfig you set up is global â†’ every logging.getLogger() will pick it up. 

 

ğŸ”¹ Step 3: Run pytest with log output 

python -m pytest --capture=tee-sys --log-cli-level=INFO --html=report.html 
 

--log-cli-level=INFO â†’ ensures logs appear in console & report. 

--capture=tee-sys â†’ ensures print() and logs are both shown. 

 

âœ… Thatâ€™s it â€” now your whole framework is using centralized logging. 
 You never need to repeat pytest_configure or fixtures for logging. 

 

 